{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Factura exportacion  v1",
    "type": "object",
    "properties": {
        "identificacion": {
            "description": "Informacion de identificacion del DTE",
            "type": "object",
            "properties": {
                "version": {
                    "type": "integer",
                    "description": "Version del esquema del DTE",
                    "const": 1
                },
                "ambiente": {
                    "type": "string",
                    "description": "Ambiente de destino: 00 - Pruebas, 01 - Produccion",
                    "enum": [
                        "00",
                        "01"
                    ]
                },
                "tipoDte": {
                    "type": "string",
                    "description": "Tipo de Documento",
                    "const": "11"
                },
                "numeroControl": {
                    "type": "string",
                    "description": "Numero control de DTE, Ej. Formato: DTE-11-12345678-000000000000001",
                    "maxLength": 31,
                    "minLength": 31,
                    "pattern": "^DTE-11-[A-Z0-9]{8}-[0-9]{15}$"
                },
                "codigoGeneracion": {
                    "type": "string",
                    "description": "Codigo Generacion",
                    "maxLength": 36,
                    "minLength": 36,
                    "pattern": "^[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}$"
                },
                "tipoModelo": {
                    "type": "number",
                    "description": "Modelo de facturacion: 1 - Previo | 2 - Diferido",
                    "enum": [
                        1,
                        2
                    ]
                },
                "tipoOperacion": {
                    "type": "integer",
                    "description": "Tipo de transmision: 1 - Normal, 2 - Contingencia",
                    "enum": [
                        1,
                        2
                    ]
                },
                "tipoContingencia": {
                    "type": [
                        "integer",
                        "null"
                    ],
                    "description": "Tipo de contigencia: 1 - No disponibilidad de sistema mh, 2 - no dispo. del sistema emisor, 3- falla en suministro de ISP, 4- falla en suministro de energia, 5- otro",
                    "enum": [
                        null,
                        1,
                        2,
                        3,
                        4,
                        5
                    ]
                },
                "motivoContigencia": {
                    "type": [
                        "string",
                        "null"
                    ],
                    "description": "explicacion sobre el motivo de contingencia, segun catalogo Otro (TipoContingencia)",
                    "minLength": 1,
                    "maxLength": 500
                },
                "fecEmi": {
                    "type": "string",
                    "description": "Fecha de Generacion (formato yyyy-mm-dd)",
                    "format": "date"
                },
                "horEmi": {
                    "type": "string",
                    "description": "Hora de Generacion (formato hh:mi:ss)",
                    "pattern": "^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]?$"
                },
                "tipoMoneda": {
                    "type": "string",
                    "description": "Tipo de moneda en las operaciones",
                    "enum": [
                        "USD"
                    ]
                }
            },
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "tipoModelo": {
                                "const": 2
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "tipoOperacion": {
                                "const": 2
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "tipoOperacion": {
                                "const": 2
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "tipoContingencia": {
                                "type": "integer"
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "tipoContingencia": {
                                "const": 5
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "motivoContingencia": {
                                "type": "string"
                            }
                        }
                    }
                }
            ],
            "additionalProperties": false,
            "required": [
                "version",
                "ambiente",
                "tipoDte",
                "numeroControl",
                "codigoGeneracion",
                "tipoModelo",
                "tipoOperacion",
                "fecEmi",
                "horEmi",
                "tipoMoneda"
            ]
        },
        "emisor": {
            "type": "object",
            "description": "Informacion del exportador",
            "properties": {
                "nit": {
                    "description": "NIT, sin guiones",
                    "type": "string",
                    "pattern": "^([0-9]{14}|[0-9]{9})$",
                    "maxLength": 14
                },
                "nrc": {
                    "description": "NRC, sin guiones",
                    "type": "string",
                    "pattern": "^[0-9]{1,8}$",
                    "minLength": 2,
                    "maxLength": 8
                },
                "nombre": {
                    "type": "string",
                    "description": "Nombre/Denominacion/Razon social",
                    "maxLength": 250,
                    "minLength": 1
                },
                "codActividad": {
                    "type": "string",
                    "description": "Codigo actividad economica",
                    "pattern": "^[0-9]{2,6}$",
                    "maxLength": 6,
                    "minLength": 5
                },
                "descActividad": {
                    "type": "string",
                    "description": "Descripcion actividad economica",
                    "maxLength": 150,
                    "minLength": 5
                },
                "nombreComercial": {
                    "description": "Nombre comercial del establecimiento",
                    "type": [
                        "string",
                        "null"
                    ],
                    "maxLength": 150,
                    "minLength": 5
                },
                "tipoEstablecimiento": {
                    "type": "string",
                    "description": "Tipo establecimiento donde se emite documento [CAT-009 TIPO DE ESTABLECIMIENTO]",
                    "enum": [
                        "01",
                        "02",
                        "04",
                        "07",
                        "20"
                    ]
                },
                "direccion": {
                    "type": "object",
                    "description": "Direccion de establecimiento",
                    "properties": {
                        "departamento": {
                            "type": "string",
                            "description": "Departamento",
                            "pattern": "^0[1-9]|1[0-4]$"
                        },
                        "municipio": {
                            "type": "string",
                            "description": "Municipio",
                            "pattern": "^[0-9]{2}$"
                        },
                        "complemento": {
                            "type": "string",
                            "description": "Complemento de direccion",
                            "maxLength": 200,
                            "minLength": 1
                        }
                    },
                    "allOf": [
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "01"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-2]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "enum": [
                                            "02",
                                            "10"
                                        ]
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "enum": [
                                            "03",
                                            "07"
                                        ]
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-6]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "04"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|[12][0-9]|3[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "enum": [
                                            "05",
                                            "08"
                                        ]
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-9]|2[0-2]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "06"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-9]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "09"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "11"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-9]|2[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "12"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-9]|20$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "13"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-9]|2[0-6]$"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "departamento": {
                                        "const": "14"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "municipio": {
                                        "pattern": "^0[1-9]|1[0-8]$"
                                    }
                                }
                            }
                        }
                    ],
                    "additionalProperties": false,
                    "required": [
                        "departamento",
                        "municipio",
                        "complemento"
                    ]
                },
                "telefono": {
                    "type": "string",
                    "description": "Numero de telefono del emisor",
                    "minLength": 8,
                    "maxLength": 30
                },
                "correo": {
                    "type": "string",
                    "description": "Correo electronico del emisor",
                    "format": "email",
                    "maxLength": 100,
                    "minLength": 3
                },
                "codEstableMH": {
                    "description": "Codigo, Numero o Identificador de establecimiento por MH",
                    "type": [
                        "string",
                        "null"
                    ],
                    "maxLength": 4,
                    "minLength": 4
                },
                "codEstable": {
                    "description": "Codigo de tipo de establecimiento Asignado por la contribuyente",
                    "type": [
                        "string",
                        "null"
                    ],
                    "minLength": 4,
                    "maxLength": 4
                },
                "codPuntoVentaMH": {
                    "description": "Codigo de Identificación del  Punto de Venta (Emisor) Asignado por el  MH",
                    "type": [
                        "string",
                        "null"
                    ],
                    "maxLength": 4,
                    "minLength": 4
                },
                "codPuntoVenta": {
                    "description": "Codigo de Identificación del  Punto de Venta (Emisor) asignado por la contribuyente",
                    "type": [
                        "string",
                        "null"
                    ],
                    "maxLength": 15,
                    "minLength": 1
                },
                "tipoItemExpor": {
                    "description": "Tipo de item a exportar (1:Bienes, 2:Servicios, 3 : ambos)",
                    "type": "integer",
                    "enum": [
                        1,
                        2,
                        3
                    ]
                },
                "recintoFiscal": {
                    "description": "Catalogo de recinto fiscal",
                    "type": [
                        "string",
                        "null"
                    ],
                    "maxLength": 2,
                    "minLength": 2
                },
                "regimen": {
                    "description": "catalogo de regimenes de exportacion Catologo 28",
                    "type": [
                        "string",
                        "null"
                    ],
                    "minimun": 1,
                    "maximum": 13
                }
            },
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "tipoItemExpor": {
                                "const": 2
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "recintoFiscal": {
                                "type": "null"
                            },
                            "regimen": {
                                "type": "null"
                            }
                        }
                    },
                    "else": {
                        "properties": {
                            "recintoFiscal": {
                                "type": [
                                    "null",
                                    "string"
                                ]
                            },
                            "regimen": {
                                "type": [
                                    "null",
                                    "string"
                                ]
                            }
                        }
                    }
                }
            ],
            "additionalProperties": false,
            "required": [
                "nit",
                "nrc",
                "nombre",
                "codActividad",
                "descActividad",
                "nombreComercial",
                "tipoEstablecimiento",
                "direccion",
                "telefono",
                "correo",
                "tipoItemExpor",
                "recintoFiscal",
                "regimen"
            ]
        },
        "receptor": {
            "type": [
                "object",
                "null"
            ],
            "description": "Informacion del comprador",
            "properties": {
                "nombre": {
                    "type": [
                        "string"
                    ],
                    "description": "Nombre/Denominacion/Razon social",
                    "maxLength": 250,
                    "minLength": 1
                },
                "tipoDocumento": {
                    "type": [
                        "string"
                    ],
                    "description": "Tipo documento de identificación CAT-22: 36 - NIT, 13 - DUI, 02 - Carnet de residente, 03 - PASAPORTE, 37 - OTRO",
                    "enum": [
                        "36",
                        "13",
                        "02",
                        "03",
                        "37"
                    ]
                },
                "numDocumento": {
                    "type": [
                        "string"
                    ],
                    "description": "Número de documento de Identificación ",
                    "minLength": 3,
                    "maxLength": 20
                },
                "nombreComercial": {
                    "type": [
                        "string",
                        "null"
                    ],
                    "description": "Nombre/Denominacion/Razon social",
                    "maxLength": 150,
                    "minLength": 1
                },
                "codPais": {
                    "type": [
                        "string"
                    ],
                    "description": "Codigo de Pais, catalogo 020",
                    "enum": [
                        "9320",
                        "9539",
                        "9565",
                        "9905",
                        "9999",
                        "9303",
                        "9306",
                        "9309",
                        "9310",
                        "9315",
                        "9317",
                        "9318",
                        "9319",
                        "9324",
                        "9327",
                        "9330",
                        "9333",
                        "9336",
                        "9339",
                        "9342",
                        "9345",
                        "9348",
                        "9349",
                        "9350",
                        "9354",
                        "9357",
                        "9360",
                        "9363",
                        "9366",
                        "9372",
                        "9374",
                        "9375",
                        "9377",
                        "9378",
                        "9381",
                        "9384",
                        "9387",
                        "9390",
                        "9393",
                        "9394",
                        "9396",
                        "9399",
                        "9402",
                        "9405",
                        "9408",
                        "9411",
                        "9414",
                        "9417",
                        "9420",
                        "9423",
                        "9426",
                        "9432",
                        "9435",
                        "9438",
                        "9440",
                        "9441",
                        "9444",
                        "9446",
                        "9447",
                        "9450",
                        "9453",
                        "9456",
                        "9459",
                        "9462",
                        "9465",
                        "9468",
                        "9471",
                        "9474",
                        "9477",
                        "9480",
                        "9481",
                        "9483",
                        "9486",
                        "9487",
                        "9495",
                        "9498",
                        "9501",
                        "9504",
                        "9507",
                        "9513",
                        "9516",
                        "9519",
                        "9522",
                        "9525",
                        "9526",
                        "9528",
                        "9531",
                        "9534",
                        "9537",
                        "9540",
                        "9543",
                        "9544",
                        "9546",
                        "9549",
                        "9552",
                        "9555",
                        "9558",
                        "9561",
                        "9564",
                        "9567",
                        "9570",
                        "9573",
                        "9576",
                        "9577",
                        "9582",
                        "9585",
                        "9591",
                        "9594",
                        "9597",
                        "9600",
                        "9601",
                        "9603",
                        "9606",
                        "9609",
                        "9611",
                        "9612",
                        "9615",
                        "9618",
                        "9621",
                        "9624",
                        "9627",
                        "9633",
                        "9636",
                        "9638",
                        "9639",
                        "9642",
                        "9645",
                        "9648",
                        "9651",
                        "9660",
                        "9663",
                        "9666",
                        "9669",
                        "9672",
                        "9675",
                        "9677",
                        "9678",
                        "9679",
                        "9680",
                        "9681",
                        "9682",
                        "9683",
                        "9684",
                        "9687",
                        "9690",
                        "9691",
                        "9693",
                        "9696",
                        "9699",
                        "9702",
                        "9705",
                        "9706",
                        "9707",
                        "9708",
                        "9714",
                        "9717",
                        "9720",
                        "9722",
                        "9723",
                        "9725",
                        "9726",
                        "9727",
                        "9729",
                        "9732",
                        "9735",
                        "9738",
                        "9739",
                        "9740",
                        "9741",
                        "9744",
                        "9747",
                        "9750",
                        "9756",
                        "9758",
                        "9759",
                        "9760",
                        "9850",
                        "9862",
                        "9863",
                        "9865",
                        "9886",
                        "9898",
                        "9899",
                        "9897",
                        "9887",
                        "9571",
                        "9300",
                        "9369",
                        "9439",
                        "9510",
                        "9579",
                        "9654",
                        "9711",
                        "9736",
                        "9737",
                        "9640",
                        "9641",
                        "9673",
                        "9472",
                        "9311",
                        "9733",
                        "9541",
                        "9746",
                        "9551",
                        "9451",
                        "9338",
                        "9353",
                        "9482",
                        "9494",
                        "9524",
                        "9304",
                        "9332",
                        "9454",
                        "9457",
                        "9489",
                        "9491",
                        "9492",
                        "9523",
                        "9530",
                        "9532",
                        "9535",
                        "9542",
                        "9547",
                        "9548",
                        "9574",
                        "9598",
                        "9602",
                        "9607",
                        "9608",
                        "9623",
                        "9652",
                        "9692",
                        "9709",
                        "9712",
                        "9716",
                        "9718",
                        "9719",
                        "9751",
                        "9452",
                        "9901",
                        "9902",
                        "9903",
                        "9664",
                        "9415",
                        "9904",
                        "9514",
                        "9906",
                        "9359",
                        "9493",
                        "9521",
                        "9533",
                        "9538",
                        "9689",
                        "9713",
                        "9449",
                        "9888",
                        "9490",
                        "9527",
                        "9529",
                        "9536",
                        "9545",
                        "9568",
                        "9610",
                        "9622",
                        "9643",
                        "9667",
                        "9676",
                        "9685",
                        "9686",
                        "9688",
                        "9715",
                        "9900",
                        "9371",
                        "9376",
                        "9907"
                    ]
                },
                "nombrePais": {
                    "type": [
                        "string"
                    ],
                    "description": "Contiene el pais destino de la mercancia",
                    "maxLength": 50,
                    "minLength": 3
                },
                "complemento": {
                    "type": [
                        "string"
                    ],
                    "description": "Colocar las especificaciones de la direccion",
                    "minLength": 5,
                    "maxLength": 300
                },
                "tipoPersona": {
                    "description": "tipo de persona Juridica o persona natural",
                    "type": [
                        "integer"
                    ],
                    "enum": [
                        1,
                        2
                    ]
                },
                "descActividad": {
                    "type": [
                        "string"
                    ],
                    "description": "Descripcion actividad economica",
                    "maxLength": 150,
                    "minLength": 5
                },
                "telefono": {
                    "type": [
                        "string",
                        "null"
                    ],
                    "description": "Numero de telefono del receptor",
                    "minLength": 8,
                    "maxLength": 50
                },
                "correo": {
                    "type": [
                        "string",
                        "null"
                    ],
                    "description": "Correo electronico del receptor",
                    "format": "email",
                    "maxLength": 100,
                    "minLength": 3
                }
            },
            "additionalProperties": false,
            "required": [
                "codPais",
                "nombrePais",
                "complemento",
                "tipoDocumento",
                "numDocumento",
                "tipoPersona",
                "correo"
            ]
        },
        "otrosDocumentos": {
            "description": "Otros Documentos Asociados",
            "type": [
                "array",
                "null"
            ],
            "items": {
                "type": "object",
                "properties": {
                    "codDocAsociado": {
                        "type": "integer",
                        "description": "Codigo de tipo de documento asociado. [CAT-021Otros Documentos]",
                        "enum": [
                            1,
                            2,
                            3,
                            4
                        ]
                    },
                    "descDocumento": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "description": "Descripcion del nombre del documento asociado",
                        "maxLength": 100
                    },
                    "detalleDocumento": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "description": "Detalle de datos importantes del documento asociado",
                        "maxLength": 300
                    },
                    "placaTrans": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "description": "Numero de identificacion del medio de  transporte",
                        "minLength": 5,
                        "maxLength": 70
                    },
                    "modoTransp": {
                        "type": [
                            "integer",
                            "null"
                        ],
                        "description": "codigo tipo transporte [CAT-030 Modo de transporte]",
                        "minimum": 1,
                        "maximum": 4,
                        "enum": [
                            null,
                            1,
                            2,
                            3,
                            4,
                            5,
                            6,
                            7
                        ]
                    },
                    "numConductor": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "description": "Numero de identificacion del conductor del transporte",
                        "minLength": 5,
                        "maxLength": 100
                    },
                    "nombreConductor": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "description": "Nombre del conductor del transporte",
                        "minLength": 5,
                        "maxLength": 200
                    }
                },
                "allOf": [
                    {
                        "if": {
                            "properties": {
                                "codDocAsociado": {
                                    "const": 4
                                }
                            }
                        },
                        "then": {
                            "properties": {
                                "modoTransp": {
                                    "type": "integer"
                                },
                                "numCoductor": {
                                    "type": "string"
                                },
                                "nombreConductor": {
                                    "type": "string"
                                },
                                "placaTrans": {
                                    "type": "string"
                                }
                            }
                        },
                        "else": {
                            "properties": {
                                "numCoductor": {
                                    "type": "null"
                                },
                                "nombreConductor": {
                                    "type": "null"
                                },
                                "placaTrans": {
                                    "type": "null"
                                },
                                "modoTransp": {
                                    "type": "null"
                                }
                            }
                        }
                    },
                    {
                        "if": {
                            "properties": {
                                "codDocAsociado": {
                                    "enum": [
                                        1,
                                        2
                                    ]
                                }
                            }
                        },
                        "then": {
                            "properties": {
                                "descDocumento": {
                                    "type": "string"
                                },
                                "detalleDocumento": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "additionalProperties": false,
                "required": [
                    "codDocAsociado",
                    "descDocumento",
                    "detalleDocumento",
                    "modoTransp",
                    "placaTrans",
                    "numConductor",
                    "nombreConductor"
                ]
            },
            "minItems": 1,
            "maxItems": 20
        },
        "ventaTercero": {
            "description": "Informacion para ventas a cuenta de terceros",
            "type": [
                "object",
                "null"
            ],
            "properties": {
                "nit": {
                    "type": "string",
                    "description": "NIT, sin guiones",
                    "pattern": "^([0-9]{14}|[0-9]{9})$"
                },
                "nombre": {
                    "type": "string",
                    "description": "Nombre/Denominacion/Razon social",
                    "maxLength": 250,
                    "minLength": 1
                }
            },
            "additionalProperties": false,
            "required": [
                "nit",
                "nombre"
            ]
        },
        "cuerpoDocumento": {
            "type": "array",
            "description": "Información del Cuerpo del documento",
            "items": {
                "type": "object",
                "properties": {
                    "numItem": {
                        "type": "integer",
                        "description": "Numero correlativo de item",
                        "minimum": 1,
                        "maximum": 2000
                    },
                    "cantidad": {
                        "type": "number",
                        "description": "Cantidad de producto/servicio",
                        "exclusiveMaximum": 100000000000,
                        "exclusiveMinimum": 0,
                        "multipleOf": 0.00000001
                    },
                    "codigo": {
                        "description": "Codigo de producto/servicio",
                        "type": [
                            "string",
                            "null"
                        ],
                        "maxLength": 200,
                        "minLength": 1
                    },
                    "uniMedida": {
                        "type": "integer",
                        "description": "Unidad de medida del producto/servicio",
                        "minimum": 1,
                        "maximum": 99
                    },
                    "descripcion": {
                        "type": "string",
                        "description": "Descripcion del producto/servicio",
                        "maxLength": 1000,
                        "minLength": 3
                    },
                    "precioUni": {
                        "type": "number",
                        "description": "Precio unitario del producto/servicio",
                        "exclusiveMaximum": 100000000000,
                        "multipleOf": 0.00000001
                    },
                    "montoDescu": {
                        "type": "number",
                        "description": "Descuento, Bonificación, Rebajas por ítem o línea de operacion",
                        "minimum": 0,
                        "exclusiveMaximum": 100000000000,
                        "multipleOf": 0.00000001
                    },
                    "ventaGravada": {
                        "type": "number",
                        "description": "Venta Gravada",
                        "minimum": 0,
                        "exclusiveMaximum": 100000000000,
                        "multipleOf": 0.00000001
                    },
                    "tributos": {
                        "description": "Codigos de tributos a aplicar [CAT-015 Tributos]",
                        "type": [
                            "array",
                            "null"
                        ],
                        "items": {
                            "type": "string",
                            "maxLength": 2,
                            "minLength": 2
                        },
                        "minItems": 1,
                        "uniqueItems": true
                    },
                    "noGravado": {
                        "type": "number",
                        "description": "Otros créditos o pagos a favor del receptor / otros cargos o cobros al receptor que no afectan la base imponible",
                        "exclusiveMaximum": 100000000000,
                        "exclusiveMinimum": -100000000000,
                        "multipleOf": 0.00000001
                    }
                },
                "allOf": [
                    {
                        "if": {
                            "properties": {
                                "noGravado": {
                                    "const": 0
                                }
                            }
                        },
                        "then": {
                            "properties": {
                                "precioUni": {
                                    "type": "number"
                                },
                                "tributos": {
                                    "items": {
                                        "const": "C3"
                                    }
                                }
                            }
                        }
                    }
                ],
                "additionalProperties": false,
                "required": [
                    "numItem",
                    "codigo",
                    "descripcion",
                    "cantidad",
                    "uniMedida",
                    "precioUni",
                    "montoDescu",
                    "ventaGravada",
                    "tributos",
                    "noGravado"
                ]
            },
            "minItems": 1,
            "maxItems": 2000
        },
        "resumen": {
            "type": "object",
            "description": "Informacion de documentos relacionados",
            "properties": {
                "totalGravada": {
                    "type": "number",
                    "description": "Total de operaciones Gravadas",
                    "minimum": 0,
                    "exclusiveMaximum": 100000000000,
                    "multipleOf": 0.01
                },
                "descuento": {
                    "type": "number",
                    "description": "Monto global de Descuento, Bonificación, Rebajas, subsidio, compensaciones, disminuciones y otros a operaciones afectas",
                    "exclusiveMaximum": 100000000000,
                    "minimum": 0,
                    "multipleOf": 0.01
                },
                "porcentajeDescuento": {
                    "type": "number",
                    "description": "Porcentaje del monto global de Descuento, Bonificación, Rebajas, Subsidios, Compensaciones, Disminuciones y otros ",
                    "maximum": 100,
                    "minimum": 0,
                    "multipleOf": 0.01
                },
                "totalDescu": {
                    "type": "number",
                    "description": "Total del monto de Descuento, Bonificación, Rebajas",
                    "minimum": 0,
                    "exclusiveMaximum": 100000000000,
                    "multipleOf": 0.01
                },
                "seguro": {
                    "type": [
                        "number",
                        "null"
                    ],
                    "description": "Seguro aplicable en la exportacion",
                    "minimum": 0,
                    "exclusiveMaximum": 100000000000,
                    "multipleOf": 0.01
                },
                "flete": {
                    "type": [
                        "number",
                        "null"
                    ],
                    "description": "valor de flete aplicable a la exportacion",
                    "minimum": 0,
                    "exclusiveMaximum": 100000000000,
                    "multipleOf": 0.01
                },
                "montoTotalOperacion": {
                    "type": "number",
                    "description": "Monto Total de Operacion (subTotal  + Sumatoria[tributos.valor]).",
                    "exclusiveMinimum": 0,
                    "exclusiveMaximum": 100000000000,
                    "multipleOf": 0.01
                },
                "totalNoGravado": {
                    "type": "number",
                    "description": "Total Otros pagos/cobros, No Gravados, al receptor.",
                    "exclusiveMaximum": 100000000000,
                    "exclusiveMinimum": -100000000000,
                    "multipleOf": 0.01
                },
                "totalPagar": {
                    "type": "number",
                    "description": "Total general.",
                    "minimum": 0,
                    "exclusiveMaximum": 100000000000,
                    "multipleOf": 0.01
                },
                "totalLetras": {
                    "type": "string",
                    "description": "Total a pagar en letras",
                    "maxLength": 200
                },
                "condicionOperacion": {
                    "type": "number",
                    "description": "Condicion de la Operacion: [CAT-016 Condicion de la Operacion]",
                    "enum": [
                        1,
                        2,
                        3
                    ]
                },
                "pagos": {
                    "description": "Para registro de informacion de pagos",
                    "type": [
                        "array",
                        "null"
                    ],
                    "items": {
                        "type": "object",
                        "properties": {
                            "codigo": {
                                "type": "string",
                                "description": "Codigo de tipo de pago [CAT-017 FORMA DE PAGO]",
                                "maxLength": 2,
                                "pattern": "^(0[1-9]||10||99)$"
                            },
                            "montoPago": {
                                "type": "number",
                                "description": "Monto por forma de pago",
                                "minimum": 0,
                                "exclusiveMaximum": 100000000000,
                                "multipleOf": 0.01
                            },
                            "referencia": {
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "description": "Referencia de pago",
                                "maxLength": 50
                            },
                            "plazo": {
                                "description": "Plazo [CAT-018 Plazo]",
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "pattern": "^0[1-3]$"
                            },
                            "periodo": {
                                "description": "Tiempo del plazo de pago",
                                "type": [
                                    "number",
                                    "null"
                                ]
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "codigo",
                            "montoPago",
                            "referencia",
                            "periodo",
                            "plazo"
                        ]
                    },
                    "minItems": 1
                },
                "codIncoterms": {
                    "type": [
                        "string",
                        "null"
                    ],
                    "description": "colocar descripcion segun catalogo de INCOTERMS"
                },
                "descIncoterms": {
                    "type": [
                        "string",
                        "null"
                    ],
                    "description": "colocar descripcion segun catalogo de INCOTERMS",
                    "maxLength": 150,
                    "minLength": 3
                },
                "numPagoElectronico": {
                    "description": "Codigo / Numero para pago electronico",
                    "type": [
                        "string",
                        "null"
                    ],
                    "maxLength": 100
                },
                "observaciones": {
                    "type": [
                        "string",
                        "null"
                    ],
                    "description": "otra observacion que el emisor desee colocar",
                    "maxLength": 500,
                    "minLength": 3
                }
            },
            "additionalProperties": false,
            "required": [
                "totalGravada",
                "porcentajeDescuento",
                "totalDescu",
                "montoTotalOperacion",
                "totalNoGravado",
                "totalPagar",
                "totalLetras",
                "condicionOperacion",
                "pagos",
                "codIncoterms",
                "descIncoterms",
                "observaciones",
                "flete",
                "seguro"
            ]
        },
        "apendice": {
            "description": "Para informacion propia del emisor (donde aplique)",
            "type": [
                "array",
                "null"
            ],
            "items": {
                "type": "object",
                "properties": {
                    "campo": {
                        "type": "string",
                        "description": "Nombre del campo",
                        "maxLength": 25
                    },
                    "etiqueta": {
                        "type": "string",
                        "description": "Etiqueta (a mostrar en representacion grafica)",
                        "maxLength": 50
                    },
                    "valor": {
                        "type": "string",
                        "description": "Valor del campo",
                        "maxLength": 150
                    }
                },
                "additionalProperties": false,
                "required": [
                    "campo",
                    "etiqueta",
                    "valor"
                ]
            },
            "minItems": 1,
            "maxItems": 10
        }
    },
    "allOf": [
        {
            "if": {
                "properties": {
                    "resumen": {
                        "properties": {
                            "montoTotalOperacion": {
                                "minimum": 10000
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "receptor": {
                        "type": "object",
                        "properties": {
                            "correo": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    ],
    "additionalProperties": false,
    "required": [
        "identificacion",
        "emisor",
        "receptor",
        "cuerpoDocumento",
        "resumen"
    ]
}