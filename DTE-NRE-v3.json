{
    "$schema":"http://json-schema.org/draft-07/schema#",
    "title":"Nota de Remision",
    "type":"object",
    "properties":{
        "identificacion":{
            "description":"Informacion de identificacion del DTE",
            "type":"object",
            "properties":{
                "version":{
                    "type":"integer",
                    "description":"Version del esquema del DTE",
                    "const":3
                },
                "ambiente":{
                    "type":"string",
                    "description":"Ambiente de destino: 00 - Pruebas, 01 - Produccion",
                    "enum":[
                        "00",
                        "01"
                    ]
                },
                "tipoDte":{
                    "type":"string",
                    "description":"Tipo de Documento",
                    "const":"04"
                },
                "numeroControl":{
                    "type":"string",
                    "description":"Numero control de DTE, Ej. Formato: DTE-04-00S01-000000000000001",
                    "maxLength":31,
                    "minLength":31,
                    "pattern":"^DTE-04-[A-Z0-9]{8}-[0-9]{15}$"
                },
                "codigoGeneracion":{
                    "type":"string",
                    "description":"Codigo Generacion",
                    "maxLength":36,
                    "minLength":36,
                    "pattern":"^[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}$"
                },
                "tipoModelo":{
                    "type":"number",
                    "description":"Modelo de facturacion: 1 - Previo | 2 - Diferido",
                    "enum":[
                        1,
                        2
                    ]
                },
                "tipoOperacion":{
                    "type":"integer",
                    "description":"Tipo de transmision: 1 - Normal, 2 - Contingencia",
                    "enum":[
                        1,
                        2
                    ]
                },
                "tipoContingencia":{
                    "description":"Tipo de contingencia (Ver Catalogo Tipo Contingencia)",
                    "type":[
                        "integer",
                        "null"
                    ],
                    "enum":[
                        null,
                        1,
                        2,
                        3,
                        4,
                        5
                    ]
                },
                "motivoContin":{
                    "description":"Motivo de contingencia (Requerido para Tipo Contingencia 5)",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":150,
                    "minLength":5
                },
                "fecEmi":{
                    "type":"string",
                    "description":"Fecha de Generacion (formato yyyy-mm-dd)",
                    "format":"date"
                },
                "horEmi":{
                    "type":"string",
                    "description":"Hora de Generacion (formato hh:mi:ss)",
                    "pattern":"^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]?$"
                },
                "tipoMoneda":{
                    "type":"string",
                    "description":"Tipo de moneda en las operaciones",
                    "enum":[
                        "USD"
                    ]
                }
            },
            "allOf":[
                {
                    "if":{
                        "properties":{
                            "tipoOperacion":{
                                "const":1
                            }
                        }
                    },
                    "then":{
                        "properties":{
                            "tipoModelo":{
                                "enum":[
                                    1
                                ]
                            }
                        }
                    },
                    "else":{
                        "properties":{
                            "tipoModelo":{
                                "enum":[
                                    2
                                ]
                            }
                        }
                    }
                },
                {
                    "if":{
                        "properties":{
                            "tipoOperacion":{
                                "const":2
                            }
                        }
                    },
                    "then":{
                        "properties":{
                            "tipoContingencia":{
                                "type":"number"
                            }
                        }
                    }
                },
                {
                    "if":{
                        "properties":{
                            "tipoContingencia":{
                                "const":5
                            }
                        }
                    },
                    "then":{
                        "properties":{
                            "motivoContin":{
                                "type":"string"
                            }
                        }
                    }
                }
            ],
            "additionalProperties":false,
            "required":[
                "version",
                "ambiente",
                "tipoDte",
                "numeroControl",
                "codigoGeneracion",
                "tipoModelo",
                "tipoOperacion",
                "tipoContingencia",
                "motivoContin",
                "fecEmi",
                "horEmi",
                "tipoMoneda"
            ]
        },
        "documentoRelacionado":{
            "description":"Informacion de DTE relacionado",
            "type":[
                "array",
                "null"
            ],
            "items":{
                "type":"object",
                "properties":{
                    "tipoDocumento":{
                        "type":"string",
                        "description":"Tipo de Documento Tributario Relacionado",
                        "enum":[
                            "01",
                            "03"
                        ]
                    },
                    "tipoGeneracion":{
                        "type":"integer",
                        "description":"Tipo generacion del documento: 1. Fisico | 2. Electronico",
                        "enum":[
                            1,
                            2
                        ]
                    },
                    "numeroDocumento":{
                        "description":"Codigo Generacion/Correlativo de documento relacionado",
                        "type":"string",
                        "minLength":1,
                        "maxLength":36
                    },
                    "fechaEmision":{
                        "description":"Fecha de Emisión del Documento Relacionado (formato yyyy-mm-dd)",
                        "type":"string",
                        "format":"date"
                    }
                },
                "allOf":[
                    {
                        "if":{
                            "properties":{
                                "tipoGeneracion":{
                                    "const":2
                                }
                            }
                        },
                        "then":{
                            "properties":{
                                "numeroDocumento":{
                                    "pattern":"^[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}$"
                                }
                            }
                        }
                    }
                ],
                "additionalProperties":false,
                "required":[
                    "tipoDocumento",
                    "tipoGeneracion",
                    "numeroDocumento",
                    "fechaEmision"
                ]
            },
            "minItems":1,
            "maxItems":50
        },
        "emisor":{
            "type":"object",
            "description":"Informacion del vendedor",
            "properties":{
                "nit":{
                    "description":"NIT, sin guiones",
                    "type":"string",
                    "pattern":"^([0-9]{14}|[0-9]{9})$"
                },
                "nrc":{
                    "description":"NRC, sin guiones",
                    "type":"string",
                    "pattern":"^[0-9]{1,8}$"
                },
                "nombre":{
                    "type":"string",
                    "description":"Nombre/Denominacion/Razon social",
                    "maxLength":200,
                    "minLength":3
                },
                "codActividad":{
                    "type":"string",
                    "description":"Codigo actividad economica",
                    "pattern":"^[0-9]{2,6}$"
                },
                "descActividad":{
                    "type":"string",
                    "description":"Descripcion actividad economica",
                    "maxLength":150,
                    "minLength":5
                },
                "nombreComercial":{
                    "description":"Nombre comercial del establecimiento",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":150,
                    "minLength":5
                },
                "tipoEstablecimiento":{
                    "type":"string",
                    "description":"Tipo establecimiento donde se emite documento [CAT-009 TIPO DE ESTABLECIMIENTO]",
                    "enum":[
                        "01",
                        "02",
                        "04",
                        "07",
                        "20"
                    ]
                },
                "direccion":{
                    "type":"object",
                    "description":"Direccion de establecimiento",
                    "properties":{
                        "departamento":{
                            "type":"string",
                            "description":"Departamento",
                            "pattern":"^0[1-9]|1[0-4]$"
                        },
                        "municipio":{
                            "type":"string",
                            "description":"Municipio",
                            "pattern":"^[0-9]{2}$"
                        },
                        "complemento":{
                            "type":"string",
                            "description":"Complemento de direccion",
                            "maxLength":200,
                            "minLength":5
                        }
                    },
                    "allOf":[
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"01"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-2]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "enum":[
                                            "02",
                                            "10"
                                        ]
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "enum":[
                                            "03",
                                            "07"
                                        ]
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-6]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"04"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|[12][0-9]|3[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "enum":[
                                            "05",
                                            "08"
                                        ]
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|2[0-2]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"06"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"09"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"11"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|2[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"12"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|20$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"13"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|2[0-6]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"14"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-8]$"
                                    }
                                }
                            }
                        }
                    ],
                    "additionalProperties":false,
                    "required":[
                        "departamento",
                        "municipio",
                        "complemento"
                    ]
                },
                "telefono":{
                    "type":"string",
                    "description":"Numero de telefono del emisor",
                    "minLength":8,
                    "maxLength":30
                },
                "correo":{
                    "type":"string",
                    "description":"Correo electronico del emisor",
                    "format":"email",
                    "maxLength":100,
                    "minLength":3
                },
                "codEstableMH":{
                    "description":"Codigo, Numero o Identificador de establecimiento por MH",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":4,
                    "minLength":4
                },
                "codEstable":{
                    "description":"Codigo, Numero o Identificador de establecimiento por Contribuyente",
                    "type":[
                        "string",
                        "null"
                    ],
                    "minLength":1,
                    "maxLength":10
                },
                "codPuntoVentaMH":{
                    "description":"Codigo, Numero o Identificador de punto de venta por MH",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":4,
                    "minLength":4
                },
                "codPuntoVenta":{
                    "description":"Codigo, Numero o Identificador de punto de venta por Contribuyente",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":15,
                    "minLength":1
                }
            },
            "additionalProperties":false,
            "required":[
                "nit",
                "nrc",
                "nombre",
                "codActividad",
                "descActividad",
                "nombreComercial",
                "tipoEstablecimiento",
                "direccion",
                "telefono",
                "correo"
            ]
        },
        "receptor":{
            "type":"object",
            "description":"Informacion del comprador",
            "properties":{
                "tipoDocumento":{
                    "type":"string",
                    "description":"Tipo documento de identificación CAT-22: 36 - NIT, 13 - DUI, 02 - Carnet de residente, 03 - PASAPORTE, 37 - OTRO",
                    "enum":[
                        "36",
                        "13",
                        "02",
                        "03",
                        "37"
                    ]
                },
                "numDocumento":{
                    "type":"string",
                    "description":"Número de documento de Identificación ",
                    "minLength":3,
                    "maxLength":20
                },
                "nrc":{
                    "type":[
                        "string",
                        "null"
                    ],
                    "description":"NRC, sin guiones",
                    "maxLength":8,
                    "minLength":2,
                    "pattern":"^[0-9]{1,8}$"
                },
                "nombre":{
                    "type":"string",
                    "description":"Nombre/Denominacion/Razon social",
                    "maxLength":200,
                    "minLength":1
                },
                "codActividad":{
                    "type":[
                        "string",
                        "null"
                    ],
                    "description":"Codigo actividad economica",
                    "pattern":"^[0-9]{2,6}$"
                },
                "descActividad":{
                    "type":[
                        "string",
                        "null"
                    ],
                    "description":"Descripcion actividad economica",
                    "maxLength":150,
                    "minLength":5
                },
                "nombreComercial":{
                    "description":"Nombre comercial",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":150,
                    "minLength":1
                },
                "direccion":{
                    "type":"object",
                    "description":"Direccion",
                    "properties":{
                        "departamento":{
                            "type":"string",
                            "description":"Departamento",
                            "maxLength":2,
                            "minLength":2,
                            "pattern":"^0[1-9]|1[0-4]$"
                        },
                        "municipio":{
                            "type":"string",
                            "description":"Municipio",
                            "maxLength":2,
                            "minLength":2,
                            "pattern":"^[0-9]{2}$"
                        },
                        "complemento":{
                            "type":"string",
                            "description":"Complemento de direccion",
                            "maxLength":200,
                            "minLength":1
                        }
                    },
                    "allOf":[
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"01"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-2]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "enum":[
                                            "02",
                                            "10"
                                        ]
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "enum":[
                                            "03",
                                            "07"
                                        ]
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-6]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"04"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|[12][0-9]|3[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "enum":[
                                            "05",
                                            "08"
                                        ]
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|2[0-2]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"06"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"09"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"11"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|2[0-3]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"12"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|20$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"13"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-9]|2[0-6]$"
                                    }
                                }
                            }
                        },
                        {
                            "if":{
                                "properties":{
                                    "departamento":{
                                        "const":"14"
                                    }
                                }
                            },
                            "then":{
                                "properties":{
                                    "municipio":{
                                        "pattern":"^0[1-9]|1[0-8]$"
                                    }
                                }
                            }
                        }
                    ],
                    "additionalProperties":false,
                    "required":[
                        "departamento",
                        "municipio",
                        "complemento"
                    ]
                },
                "telefono":{
                    "type":[
                        "string",
                        "null"
                    ],
                    "description":"Numero de telefono del receptor",
                    "minLength":8,
                    "maxLength":30
                },
                "correo":{
                    "type":"string",
                    "description":"Correo electronico del receptor",
                    "format":"email",
                    "maxLength":100
                },
                "bienTitulo":{
                    "type":"string",
                    "description":"Bienes Remitidos a Titulo de:",
                    "maxLength":2
                }
            },
            "allOf":[
                {
                    "if":{
                        "properties":{
                            "tipoDocumento":{
                                "const":"36"
                            }
                        }
                    },
                    "then":{
                        "properties":{
                            "numDocumento":{
                                "pattern":"^([0-9]{14}|[0-9]{9})$"
                            },
                            "nrc":{
                                "type":[
                                    "string",
                                    "null"
                                ]
                            }
                        }
                    },
                    "else":{
                        "properties":{
                            "nrc":{
                                "type":"null"
                            }
                        }
                    }
                },
                {
                    "if":{
                        "properties":{
                            "tipoDocumento":{
                                "const":"13"
                            }
                        }
                    },
                    "then":{
                        "properties":{
                            "numDocumento":{
                                "pattern":"^[0-9]{8}-[0-9]{1}$"
                            }
                        }
                    }
                }
            ],
            "additionalProperties":false,
            "required":[
                "tipoDocumento",
                "numDocumento",
                "nrc",
                "nombre",
                "codActividad",
                "descActividad",
                "nombreComercial",
                "direccion",
                "telefono",
                "correo",
                "bienTitulo"
            ]
        },
        "ventaTercero":{
            "description":"Informacion para ventas a cuenta de terceros",
            "type":[
                "object",
                "null"
            ],
            "properties":{
                "nit":{
                    "type":"string",
                    "description":"NIT, sin guiones",
                    "maxLength":14,
                    "pattern":"^([0-9]{14}|[0-9]{9})$"
                },
                "nombre":{
                    "type":"string",
                    "description":"Nombre/Denominacion/Razon social",
                    "maxLength":200,
                    "minLength":1
                }
            },
            "additionalProperties":false,
            "required":[
                "nit",
                "nombre"
            ]
        },
        "cuerpoDocumento":{
            "type":"array",
            "description":"Información del Cuerpo del documento",
            "items":{
                "type":"object",
                "properties":{
                    "numItem":{
                        "type":"integer",
                        "description":"Numero correlativo de item",
                        "minimum":1,
                        "maximum":2000
                    },
                    "tipoItem":{
                        "type":"integer",
                        "description":"Tipo Item",
                        "enum":[
                            1,
                            2,
                            3,
                            4
                        ]
                    },
                    "numeroDocumento":{
                        "description":"Codigo Generacion/Correlativo de seccion Documento Relacionado",
                        "type":[
                            "string",
                            "null"
                        ],
                        "minLength":1,
                        "maxLength":36
                    },
                    "codigo":{
                        "description":"Codigo de producto/servicio",
                        "type":[
                            "string",
                            "null"
                        ],
                        "maxLength":25,
                        "minLength":1
                    },
                    "codTributo":{
                        "description":"Codigo de tributo con afectacion de IVA",
                        "type":[
                            "string",
                            "null"
                        ],
                        "enum":[
                            null,
                            "A8",
                            "57",
                            "90",
                            "D4",
                            "D5",
                            "25",
                            "A6"
                        ],
                        "maxLength":2,
                        "minLength":2
                    },
                    "descripcion":{
                        "type":"string",
                        "description":"Descripcion del producto/servicio",
                        "maxLength":1000,
                        "minLength":3
                    },
                    "cantidad":{
                        "type":"number",
                        "description":"Cantidad de producto/servicio",
                        "exclusiveMaximum":100000000000,
                        "exclusiveMinimum":0,
                        "multipleOf":1e-08
                    },
                    "uniMedida":{
                        "type":"integer",
                        "description":"Unidad de medida del producto/servicio",
                        "minimum":1,
                        "maximum":99
                    },
                    "precioUni":{
                        "type":"number",
                        "description":"Precio unitario del producto/servicio",
                        "exclusiveMaximum":100000000000,
                        "multipleOf":1e-08
                    },
                    "montoDescu":{
                        "type":"number",
                        "description":"Monto de descuento por item",
                        "minimum":0,
                        "exclusiveMaximum":100000000000,
                        "multipleOf":1e-08
                    },
                    "ventaNoSuj":{
                        "type":"number",
                        "description":"Venta no sujeta",
                        "minimum":0,
                        "exclusiveMaximum":100000000000,
                        "multipleOf":1e-08
                    },
                    "ventaExenta":{
                        "type":"number",
                        "description":"Venta no Exenta",
                        "minimum":0,
                        "exclusiveMaximum":100000000000,
                        "multipleOf":1e-08
                    },
                    "ventaGravada":{
                        "type":"number",
                        "description":"Venta Gravada",
                        "minimum":0,
                        "exclusiveMaximum":100000000000,
                        "multipleOf":1e-08
                    },
                    "tributos":{
                        "description":"Codigos de tributos a aplicar [CAT-015 Tributos]",
                        "type":[
                            "array",
                            "null"
                        ],
                        "items":{
                            "type":"string",
                            "maxLength":2,
                            "minLength":2
                        },
                        "minItems":1,
                        "uniqueItems":true
                    }
                },
                "allOf":[
                    {
                        "if":{
                            "properties":{
                                "ventaGravada":{
                                    "maximum":0
                                }
                            }
                        },
                        "then":{
                            "properties":{
                                "tributos":{
                                    "type":"null"
                                }
                            }
                        },
                        "else" : {
                            "properties" : {
                                "tributos" : {
                                    "type" : "array",
                                    "minItems" : 1
                                }
                            }
                        }
                    },
                    {
                        "if":{
                            "properties":{
                                "tipoItem":{
                                    "const":4
                                }
                            }
                        },
                        "then":{
                            "properties":{
                                "uniMedida":{
                                    "const":99
                                },
                                "codTributo":{
                                    "type":"string"
                                },
                                "tributos":{
                                    "type":"array",
                                    "items":{
                                        "const":"20"
                                    }
                                }
                            }
                        },
                        "else":{
                            "properties":{
                                "codTributo":{
                                    "type":"null"
                                },
                                "tributos":{
                                    "items":{
                                        "enum":[
                                            "20",
                                            "C3",
                                            "59",
                                            "71",
                                            "D1",
                                            "C8",
                                            "D5",
                                            "D4"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                ],
                "additionalProperties":false,
                "required":[
                    "numItem",
                    "tipoItem",
                    "numeroDocumento",
                    "codigo",
                    "codTributo",
                    "descripcion",
                    "cantidad",
                    "uniMedida",
                    "precioUni",
                    "montoDescu",
                    "ventaNoSuj",
                    "ventaExenta",
                    "ventaGravada",
                    "tributos"
                ]
            },
            "minItems":1,
            "maxItems":2000
        },
        "resumen":{
            "type":"object",
            "description":"Informacion de documentos relacionados",
            "properties":{
                "totalNoSuj":{
                    "type":"number",
                    "description":"Total de operaciones No Sujetas",
                    "minimum":0,
                    "exclusiveMaximum":100000000000,
                    "multipleOf":0.01
                },
                "totalExenta":{
                    "type":"number",
                    "description":"Total de operaciones Exentas",
                    "minimum":0,
                    "exclusiveMaximum":100000000000,
                    "multipleOf":0.01
                },
                "totalGravada":{
                    "type":"number",
                    "description":"Total de operaciones Gravadas",
                    "minimum":0,
                    "exclusiveMaximum":100000000000,
                    "multipleOf":0.01
                },
                "subTotalVentas":{
                    "type":"number",
                    "description":"Sumatoria de las operaciones de todas las ventas",
                    "minimum":0,
                    "exclusiveMaximum":100000000000,
                    "multipleOf":0.01
                },
                "descuNoSuj":{
                    "type":"number",
                    "description":"Descuentos, bonificaciones, rebajas al total de ventas no sujetas",
                    "exclusiveMaximum":100000000000,
                    "minimum":0,
                    "multipleOf":0.01
                },
                "descuExenta":{
                    "type":"number",
                    "description":"Descuentos, bonificaciones, rebajas al total de ventas exentas",
                    "exclusiveMaximum":100000000000,
                    "minimum":0,
                    "multipleOf":0.01
                },
                "descuGravada":{
                    "type":"number",
                    "description":"Descuentos, bonificaciones, rebajas al total de ventas gravadas",
                    "exclusiveMaximum":100000000000,
                    "minimum":0,
                    "multipleOf":0.01
                },
                "porcentajeDescuento":{
                    "type":[
                        "number",
                        "null"
                    ],
                    "description":"Porcentaje de Descuentos, bonificaciones, rebajas al subtotal de ventas",
                    "maximum":100,
                    "minimum":0,
                    "multipleOf":0.01
                },
                "totalDescu":{
                    "type":"number",
                    "description":"Sumatoria de descuentos, bonificaciones, rebajas",
                    "minimum":0,
                    "exclusiveMaximum":100000000000,
                    "multipleOf":0.01
                },
                "tributos":{
                    "type":[
                        "array",
                        "null"
                    ],
                    "description":"Detalle de tributos",
                    "items":{
                        "type":"object",
                        "properties":{
                            "codigo":{
                                "description":"Codigo de tributo [CAT-015 Tributos]",
                                "type":"string",
                                "minLength":2,
                                "maxLength":2
                            },
                            "descripcion":{
                                "description":"Descripcion de tributo [CAT-015 Tributos]",
                                "type":"string",
                                "minLength":2,
                                "maxLength":150
                            },
                            "valor":{
                                "description":"Valor",
                                "type":"number",
                                "minimum":0,
                                "exclusiveMaximum":100000000000,
                                "multipleOf":0.01
                            }
                        }
                    }
                },
                "subTotal":{
                    "type":"number",
                    "description":"Sub-total (subTotalVentas – descuNoSuj - descuExenta -  descuGravada)",
                    "minimum":0,
                    "exclusiveMaximum":100000000000,
                    "multipleOf":0.01
                },
                "montoTotalOperacion":{
                    "type":"number",
                    "description":"Monto Total de Operacion (subTotal  + Sumatoria[tributos.valor]).",
                    "minimum":0,
                    "exclusiveMaximum":100000000000,
                    "multipleOf":0.01
                },
                "totalLetras":{
                    "type":"string",
                    "description":"Valor en letras",
                    "maxLength":200
                }
            },
            "additionalProperties":false,
            "required":[
                "totalNoSuj",
                "totalExenta",
                "totalGravada",
                "subTotalVentas",
                "descuNoSuj",
                "descuExenta",
                "descuGravada",
                "porcentajeDescuento",
                "totalDescu",
                "tributos",
                "subTotal",
                "montoTotalOperacion",
                "totalLetras"
            ]
        },
        "extension":{
            "type":"object",
            "description":"Informacion de documentos relacionados",
            "properties":{
                "nombEntrega":{
                    "description":"Nombre de la persona que entrega DTE",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":100,
                    "minLength":5
                },
                "docuEntrega":{
                    "description":"Documento de la persona que entrega DTE",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":25,
                    "minLength":5
                },
                "nombRecibe":{
                    "description":"Nombre de la persona que recibe DTE",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":100,
                    "minLength":5
                },
                "docuRecibe":{
                    "description":"Documento de la persona que recibe DTE",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":25,
                    "minLength":5
                },
                "observaciones":{
                    "description":"Observaciones adicionales",
                    "type":[
                        "string",
                        "null"
                    ],
                    "maxLength":3000,
                    "minLength":10
                }
            },
            "additionalProperties":false,
            "required":[
                "nombEntrega",
                "docuEntrega",
                "nombRecibe",
                "docuRecibe",
                "observaciones"
            ]
        },
        "apendice":{
            "description":"Para informacion propia del emisor (donde aplique)",
            "type":[
                "array",
                "null"
            ],
            "items":{
                "type":"object",
                "properties":{
                    "campo":{
                        "type":"string",
                        "description":"Nombre del campo",
                        "maxLength":25
                    },
                    "etiqueta":{
                        "type":"string",
                        "description":"Etiqueta (a mostrar en representacion grafica)",
                        "maxLength":50
                    },
                    "valor":{
                        "type":"string",
                        "description":"Valor del campo",
                        "maxLength":150
                    }
                },
                "additionalProperties":false,
                "required":[
                    "campo",
                    "etiqueta",
                    "valor"
                ]
            },
            "minItems":1,
            "maxItems":10
        }
    },
    "allOf":[
        {
            "if":{
                "properties":{
                    "resumen":{
                        "properties":{
                            "montoTotalOperacion":{
                                "minimum":20000
                            }
                        }
                    }
                }
            },
            "then":{
                "properties":{
                    "extension":{
                        "properties":{
                            "nombEntrega":{
                                "type":"string"
                            },
                            "docuEntrega":{
                                "type":"string"
                            },
                            "nombRecibe":{
                                "type":"string"
                            },
                            "docuRecibe":{
                                "type":"string"
                            }
                        }
                    }
                }
            }
        }
    ],
    "additionalProperties":false,
    "required":[
        "identificacion",
        "documentoRelacionado",
        "emisor",
        "receptor",
        "cuerpoDocumento",
        "resumen",
        "extension"
    ]
}